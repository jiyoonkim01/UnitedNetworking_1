<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
</head>
<body>
    <div style="text-align: center;">
        {% if not logged_in %}
        <!-- 로그인 안 했을 때 -->
        <h1>로그인하기</h1>
        <button onclick="location.href='{% url 'signInUp:login' %}'">로그인</button>

        <div>
            <h3>잔여 크레딧</h3>
            <p>로그인이 필요합니다.</p>
        </div>

        <div>
            <h3>소진 크레딧</h3>
            <p>로그인이 필요합니다.</p>
        </div>

        <div>
            <h3>잔여 기간</h3>
            <p>로그인이 필요합니다.</p>
        </div>

        <button disabled>예약 내역</button><br><br>
        <button disabled>수업 전 푸시 알림</button>

        {% else %}
        <!-- 로그인했을 때 -->
        <h1>{{ user_name }}님, 오늘도 건강한 하루 되세요!</h1>

        <div>
            <h3>잔여 크레딧</h3>
            <p>{{ remaining_credit }}</p>
        </div>

        <div>
            <h3>소진 크레딧</h3>
            <p>{{ using_credit }}</p>
        </div>

        <div>
            <h3>잔여 기간</h3>
            <p>{{ credit_period }}</p>
        </div>

        <button onclick="location.href='#'">예약 내역</button><br><br>

        <div>
            <h3>수업 전 푸시 알림</h3>
            <form method="post" action="{% url 'update_alert' %}">
                {% csrf_token %}
                <label>
                    <input type="radio" name="alert" value="on" {% if alert %}checked{% endif %}> ON
                </label>
                <label>
                    <input type="radio" name="alert" value="off" {% if not alert %}checked{% endif %}> OFF
                </label>
                <button type="submit">변경</button> <!-- submit 버튼 추가 -->
            </form>
        </div>


        <form method="post" action="{% url 'signInUp:logout' %}">
            {% csrf_token %}
            <button type="submit">로그아웃</button>
        </form>

        {% endif %}
    </div>

    <script>
        function toggleAlert() {
            // 여기에 푸시 알림 토글 기능 추가
        }
    </script>
</body>
</html>
